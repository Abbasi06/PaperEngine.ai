@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500&family=Merriweather:wght@300;400;700&display=swap');

:root {
  --bg-color: #F2F0E9;
  --sheet-color: #FFFFFF;
  --text-primary: #333333;
  --accent-color: #DA7756;
  --border-color: #E6E4DD;
}

body { margin: 0; background-color: var(--bg-color); font-family: 'Merriweather', serif; height: 100vh; overflow: hidden; }

.app-container { height: 100vh; width: 100%; display: flex; flex-direction: column; position: relative; }

/* HERO */
.hero-section { position: absolute; top: 35%; left: 50%; transform: translate(-50%,-50%); text-align: center; transition: 0.4s ease; z-index: 0; width: 100%; }
.hero-section.hidden { opacity: 0; transform: translate(-50%,-60%); pointer-events: none; }
.hero-logo { color: var(--accent-color); margin-bottom: 16px; display: inline-block; }
.hero-section h1 { font-size: 3rem; font-weight: 300; color: #2D2D2D; margin: 0 0 12px 0; letter-spacing: -1px; }
.hero-section p { font-family: 'Inter', sans-serif; color: #888; font-size: 1.1rem; }

/* WORKSPACE */
.workspace { display: flex; width: 100%; height: 100%; overflow: hidden; position: relative; z-index: 1; }

.chat-panel { display: flex; flex-direction: column; height: 100%; transition: width 0.5s ease; margin: 0 auto; width: 100%; max-width: 900px; }
.chat-panel.shrunk { width: 50%; padding-right: 20px; }
.chat-content { flex: 1; overflow-y: auto; padding: 40px 40px 100px 40px; scrollbar-width: none; }

/* MESSAGES */
.message-row { display: flex; width: 100%; margin-bottom: 24px; }
.message-content { display: flex; gap: 16px; max-width: 100%; line-height: 1.7; font-size: 1rem; }
.user .message-row { justify-content: flex-end; }
.user .message-content { background-color: #F4F4F0; padding: 12px 20px; border-radius: 12px; font-family: 'Inter', sans-serif; max-width: 80%; }
.system-log { width: fit-content; margin: 0 auto 10px auto; background: #F9F9F7; border: 1px solid #EAEAEA; padding: 4px 12px; border-radius: 20px; font-family: 'Inter'; font-size: 0.75rem; color: #888; display: flex; gap: 6px; }

/* ARTIFACT PANEL */
.artifact-panel { position: absolute; right: 0; top: 0; bottom: 0; background: white; border-left: 1px solid var(--border-color); width: 50%; box-shadow: -5px 0 30px rgba(0,0,0,0.05); transform: translateX(100%); transition: transform 0.5s ease; display: flex; flex-direction: column; z-index: 10; }
.artifact-panel.visible { transform: translateX(0); }
.artifact-header { padding: 20px; border-bottom: 1px solid #EEE; display: flex; justify-content: space-between; align-items: center; }
.artifact-content { flex: 1; overflow-y: auto; padding: 20px; background: #FAFAF8; }
.artifact-card { background: white; border: 1px solid #EEE; border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.02); }
.card-header { margin-bottom: 12px; }
.badge { background: #F0EBE5; color: var(--accent-color); padding: 4px 10px; border-radius: 20px; font-size: 0.75rem; font-family: 'Inter', sans-serif; font-weight: 600; text-transform: uppercase; }
.card-body { font-family: 'Inter', sans-serif; font-size: 0.9rem; line-height: 1.6; color: #444; white-space: pre-wrap; }

/* INPUT CONTAINER (Fixed) */
.input-container {
  position: absolute;
  left: 0; right: 0; padding: 0 20px;
  display: flex; justify-content: center;
  transition: all 0.6s cubic-bezier(0.2, 0.8, 0.2, 1);
  z-index: 100; /* FORCE ON TOP */
  pointer-events: auto;
}

.app-container.initial .input-container { bottom: 40%; }
.app-container.initial .input-box { max-width: 650px; box-shadow: 0 12px 30px rgba(0,0,0,0.06); }

.app-container.active .input-container { bottom: 30px; }
.app-container.active .input-box { max-width: 900px; background: #FFFFFF; box-shadow: 0 8px 30px rgba(0,0,0,0.08); }

.input-box { width: 100%; background: #FFFFFF; border: 1px solid var(--border-color); border-radius: 16px; padding: 12px; display: flex; align-items: center; }
.input-box input { flex: 1; border: none; outline: none; font-family: 'Inter'; font-size: 1rem; padding: 10px 12px; }
.utility-btn { background: transparent; border: none; width: 38px; height: 38px; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #999; cursor: pointer; transition: all 0.2s; }
.utility-btn:hover { background: #F5F5F5; color: #555; }
.send-btn { background: var(--accent-color); border: none; border-radius: 8px; width: 38px; height: 38px; display: flex; align-items: center; justify-content: center; color: white; cursor: pointer; margin-left: 8px; }

/* MODAL */
.modal-overlay { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.3); backdrop-filter: blur(4px); display: flex; align-items: center; justify-content: center; z-index: 1000; animation: fadeIn 0.3s ease; }
.modal-card { background: white; width: 100%; max-width: 450px; border-radius: 16px; padding: 24px; box-shadow: 0 10px 40px rgba(0,0,0,0.1); font-family: 'Inter'; animation: slideUp 0.3s; }
.modal-header { display: flex; justify-content: space-between; margin-bottom: 24px; font-family: 'Merriweather'; font-size: 1.2rem; }
.options-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 20px; }
.option-btn { background: #FFF; border: 1px solid #DDD; padding: 10px; border-radius: 8px; cursor: pointer; color: #555; transition: 0.2s; }
.option-btn.selected { background: var(--accent-color); color: white; border-color: var(--accent-color); }
.save-btn { width: 100%; background: #333; color: white; border: none; padding: 12px; border-radius: 10px; cursor: pointer; display: flex; gap: 8px; justify-content: center; align-items: center; }

@keyframes fadeIn { from {opacity:0} to {opacity:1} }
@keyframes slideUp { from {transform:translateY(20px)} to {transform:translateY(0)} }